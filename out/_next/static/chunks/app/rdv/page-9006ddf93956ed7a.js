(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{2320:function(e,t,a){Promise.resolve().then(a.bind(a,6446))},6446:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var n=a(7437),s=a(2265),l=a(3591);function i(e){let{onDateChange:t}=e,[a,i]=(0,s.useState)(new Date);return(0,n.jsx)(l.ZP,{onChange:e=>{let a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));i(a),t&&t(a)},value:a,className:"react-calendar",tileClassName:e=>{let{date:t,view:n}=e;return t.getDate()===new Date().getDate()&&t.getMonth()===new Date().getMonth()?"react-calendar__tile--now":t.getDate()===a.getDate()?"react-calendar__tile--active":void 0}})}a(8538),a(2474);var d=a(7938),c=a(3158),r=a(9056),o=function(){let[e,t]=(0,s.useState)(new Date().toISOString()),{rdvs:a}=(0,r.Z)(e);return(0,n.jsx)("div",{className:"flex flex-col justify-center",children:(0,n.jsx)("div",{className:"flex flex-col justify-center w-full bg-neutral-900 max-md:max-w-full",children:(0,n.jsx)("div",{className:"justify-center px-6 py-5 w-full max-md:px-5 max-md:max-w-full",children:(0,n.jsxs)("div",{className:"flex gap-5 max-md:flex-col max-md:gap-0",children:[(0,n.jsx)(d.Z,{}),(0,n.jsx)("div",{className:"flex flex-col ml-5 w-9/12 max-md:ml-0 max-md:w-full",children:(0,n.jsxs)("div",{className:"flex flex-col grow max-md:mt-6 max-md:max-w-full",children:[(0,n.jsxs)("div",{className:"flex gap-5 justify-center p-4 text-white max-md:flex-wrap max-md:max-w-full",children:[(0,n.jsx)("div",{className:"text-3xl font-bold tracking-tighter",children:"Aujourd'hui"}),(0,n.jsx)("div",{className:"flex flex-col justify-center self-start px-4 py-1.5 text-sm font-medium leading-5 rounded-lg bg-zinc-800",children:(0,n.jsx)("div",{className:"justify-center bg-zinc-800",children:"Vue mensuelle"})})]}),(0,n.jsx)("div",{className:"flex justify-center items-center px-16 py-4 max-md:px-5 max-md:max-w-full",children:(0,n.jsx)("div",{className:"max-w-full w-[696px]",children:(0,n.jsx)(i,{onDateChange:e=>{t(e.toISOString())}})})}),(0,n.jsx)("div",{className:"self-start mt-5 ml-4 text-2xl font-bold tracking-tight text-white max-md:ml-2.5",children:"Rendez-vous du jour"}),a&&a.length>0?a.map((e,t)=>(0,n.jsx)(c.Z,{name:e.patient?e.patient.firstname+" "+e.patient.lastname:"",time:e.dispo?e.dispo.timeslot:"",reason:e.motif||"Aucun motif renseign\xe9",history:e.patient&&e.patient.Patienthistory&&e.patient.Patienthistory[0]&&e.patient.Patienthistory[0].history?e.patient.Patienthistory[0].history.antecedent:"Aucun"},t)):(0,n.jsxs)("h3",{children:["Aucun rendez-vous le"," ",new Date(e).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})})]})})})})}},3158:function(e,t,a){"use strict";var n=a(7437);t.Z=function(e){let{name:t,time:a,reason:s,history:l}=e;return(0,n.jsxs)("div",{className:"flex flex-col justify-center items-start py-3 pr-20 pl-4 mt-3.5 bg-neutral-900 max-md:pr-5 max-md:max-w-full",children:[(0,n.jsx)("div",{className:"text-base font-medium leading-6 text-white",children:t}),(0,n.jsxs)("div",{className:"text-sm leading-5 text-stone-300",children:["Heure du rendez-vous: ",a,(0,n.jsx)("br",{}),"Motif de consultation: ",s,(0,n.jsx)("br",{}),"Ant\xe9c\xe9dents: ",l]}),(0,n.jsx)("div",{className:"flex gap-3 mt-2 align-start",children:(0,n.jsx)("button",{label:"Annuler",className:"bg-rose-500"})})]})}},7938:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var n=a(7437),s=a(2265),l=a(7138),i=function(e){let{icon:t,text:a,destination:s}=e;return(0,n.jsxs)("div",{className:"flex gap-3 px-3 py-2 mt-2 whitespace-nowrap",children:[(0,n.jsx)("img",{loading:"lazy",src:t,alt:"",className:"shrink-0 w-6 aspect-square"}),(0,n.jsx)(l.default,{href:s,legacyBehavior:!0,children:a})]})},d=a(5850),c=a(6443);function r(e){let{onCancelClick:t}=e,{patients:a}=(0,c.Z)(),l=localStorage.getItem("Cookie"),[i,r]=(0,s.useState)(null),[o,m]=(0,s.useState)(new Date),[u,x]=(0,s.useState)(""),[f,p]=(0,s.useState)(""),h=async()=>{let e=await (0,d.he)("http://192.168.1.3:3000/api/addRdv",{method:"POST",headers:{"Content-Type":"application/json"},body:d.uT.json({patientId:i,date:o,timeslot:u,token:l})});console.log(await e.json())};return(0,n.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,n.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,n.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,n.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,n.jsxs)("div",{className:"inline-block align-bottom bg-zinc-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[(0,n.jsx)("div",{className:"bg-zinc-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,n.jsx)("div",{className:"sm:flex sm:items-start",children:(0,n.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,n.jsx)("h3",{className:"text-lg leading-6 font-medium text-green-400",id:"modal-headline",children:"Nouveau patient"}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("div",{children:(0,n.jsx)("select",{placeholder:"Patient",value:i?i.patientId:"",onChange:e=>{r(e.target.value)},className:"bg-white text-black rounded-sm mb-2 mr-2",children:a.map((e,t)=>(0,n.jsxs)("option",{value:e.patient.patientId,className:"text-white",children:[e.patient.firstname," ",e.patient.lastname]},t))})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"date",value:o,onChange:e=>{m(new Date(e.target.value))},className:"bg-white text-black rounded-sm mb-2"})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"text",placeholder:"Heure de rendez-vous",value:u,onChange:e=>{x(e.target.value)},className:"bg-white text-black rounded-sm mb-2"})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"text",placeholder:"Motif de consultation",value:f,onChange:e=>{p(e.target.value)},className:"bg-white text-black rounded-sm mb-2"})})]})]})})}),(0,n.jsxs)("div",{className:" px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,n.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-400 text-base font-medium text-white hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:h,children:"OK"}),(0,n.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400 sm:mt-0 sm:w-auto sm:text-sm",onClick:t,children:"Annuler"})]})]})]})})}function o(){localStorage.removeItem("Cookie"),window.location.replace("/login")}function m(){let[e,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)("");return(0,n.jsx)("aside",{className:"flex flex-col w-3/12 max-md:ml-0 max-md:w-full max-h-96",children:(0,n.jsxs)("nav",{className:"flex flex-col grow justify-between p-4 mx-auto w-full text-sm font-medium leading-5 text-white bg-neutral-900 max-md:mt-6",children:[(0,n.jsxs)("div",{className:"flex gap-3 px-3 py-2 whitespace-nowrap rounded-lg bg-zinc-800",children:[e&&(0,n.jsx)(r,{onCancelClick:()=>t(!1)}),(0,n.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/19a097b61bd5a9c658091861d8dba577f1499d5b43b230ef0a797fcb719853ec?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Accueil",destination:"/home"})]}),(0,n.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/3d1ad04ddb7015629255ccaeb1389d72137aa918cdc516c521f397761a2a8216?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Rendez-vous",destination:"/rdv"}),(0,n.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/0336d694a54c8fb9ff5e7f72e82c8d2540c0d1a95f223037af7d1f0f4cb387ab?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Patients",destination:"/patients"}),(0,n.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/c0ba607c757ed75216e2e337f83ca8f727e1f6cd2278ce0686bb83282ad06981?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Statistiques",destination:"/stats"}),(0,n.jsx)("div",{className:"flex flex-col justify-center px-4 py-2.5 mt-6 font-bold tracking-wide bg-green-400 rounded-lg text-neutral-900 max-md:px-5 max-md:mt-10",children:(0,n.jsx)("button",{className:"justify-center bg-green-400 max-md:mx-1",onClick:e=>t(!0),children:"Nouvelle consultation"})}),(0,n.jsx)("div",{className:"flex flex-col justify-center px-4 py-2.5 mt-6 font-bold tracking-wide bg-rose-400 rounded-lg text-neutral-900 max-md:px-5 max-md:mt-10",children:(0,n.jsx)("button",{className:"justify-center bg-rose-400 max-md:mx-1",onClick:o,children:"Se d\xe9connecter"})})]})})}},6443:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(2265),s=a(5850);function l(){let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{l(localStorage.getItem("Cookie"))},[]),(0,n.useEffect)(()=>{a&&(0,s.he)("http://192.168.1.3:3000/api/findPatients",{method:"POST",headers:{"Content-Type":"application/json"},responseType:s.UN.JSON,body:s.uT.json({token:a})}).then(e=>{t(e.data.reduce((e,t)=>(e.some(e=>e.patientID===t.patientID)||e.push(t),e),[]))})},[a]),{patients:e}}},9056:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(2265),s=a(5850);function l(e){let[t,a]=(0,n.useState)([]),[l,i]=(0,n.useState)(null);return(0,n.useEffect)(()=>{i(localStorage.getItem("Cookie"))},[]),(0,n.useEffect)(()=>{if(l){let t={token:l,date:new Date(e).toISOString()};(0,s.he)("http://192.168.1.3:3000/api/findRdvs",{method:"POST",headers:{"Content-Type":"application/json"},responseType:s.UN.JSON,body:s.uT.json(t)}).then(e=>{a(e.data)})}},[l,e]),(0,n.useEffect)(()=>{console.log(t)},[t]),{rdvs:t}}},2474:function(){}},function(e){e.O(0,[895,36,867,971,23,744],function(){return e(e.s=2320)}),_N_E=e.O()}]);