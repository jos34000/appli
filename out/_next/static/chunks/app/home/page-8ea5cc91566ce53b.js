(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{543:function(e,t,a){Promise.resolve().then(a.bind(a,4864))},4864:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),n=a(2265),i=a(7938),l=a(3158),d=a(9056),o=a(5850),c=function(){let[e,t]=(0,n.useState)(new Date),{rdvs:a}=(0,d.Z)(e),{doctor:c}=function(){let[e,t]=(0,n.useState)(""),[a,s]=(0,n.useState)(null);return(0,n.useEffect)(()=>{s(localStorage.getItem("Cookie"))},[]),(0,n.useEffect)(()=>{a&&(0,o.he)("http://192.168.1.3:3000/api/WhoAmI",{method:"POST",headers:{"Content-Type":"application/json"},responseType:o.UN.JSON,body:o.uT.json({token:a})}).then(e=>{t(e.data)})},[a]),{doctor:e}}();return(0,s.jsx)("div",{className:"justify-center px-6 py-5 w-full max-md:px-5 max-md:max-w-full",children:(0,s.jsxs)("div",{className:"flex gap-5 max-md:flex-col max-md:gap-0",children:[(0,s.jsx)(i.Z,{}),(0,s.jsx)("main",{className:"flex flex-col ml-5 w-9/12 max-md:ml-0 max-md:w-full",children:(0,s.jsxs)("div",{className:"flex flex-col grow pb-20 max-md:mt-6 max-md:max-w-full",children:[(0,s.jsxs)("header",{className:"flex flex-col items-start py-4 pr-20 pl-4 max-md:pr-5 max-md:max-w-full",children:[(0,s.jsxs)("h1",{className:"text-4xl font-black tracking-tighter text-white",children:["Bonjour, Dr. ",c.lastname||"Smith"]}),(0,s.jsx)("p",{className:"mt-3 text-base leading-6 text-stone-300",children:"Vos rendez-vous de la journ\xe9e"})]}),(0,s.jsx)("h2",{className:"self-start mt-8 ml-4 text-2xl font-bold tracking-tight text-white max-md:ml-2.5",children:"Rendez-vous"}),a&&a.length>0&&a.map((e,t)=>(0,s.jsx)(l.Z,{name:e.patient?e.patient.firstname+" "+e.patient.lastname:"",time:e.dispo?e.dispo.timeslot:"",reason:e.motif||"Aucun motif renseign\xe9",history:e.patient&&e.patient.Patienthistory&&e.patient.Patienthistory[0]&&e.patient.Patienthistory[0].history?e.patient.Patienthistory[0].history.antecedent:"Aucun"},t))]})})]})})}},3158:function(e,t,a){"use strict";var s=a(7437);t.Z=function(e){let{name:t,time:a,reason:n,history:i}=e;return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-start py-3 pr-20 pl-4 mt-3.5 bg-neutral-900 max-md:pr-5 max-md:max-w-full",children:[(0,s.jsx)("div",{className:"text-base font-medium leading-6 text-white",children:t}),(0,s.jsxs)("div",{className:"text-sm leading-5 text-stone-300",children:["Heure du rendez-vous: ",a,(0,s.jsx)("br",{}),"Motif de consultation: ",n,(0,s.jsx)("br",{}),"Ant\xe9c\xe9dents: ",i]}),(0,s.jsx)("div",{className:"flex gap-3 mt-2 align-start",children:(0,s.jsx)("button",{label:"Annuler",className:"bg-rose-500"})})]})}},7938:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var s=a(7437),n=a(2265),i=a(7138),l=function(e){let{icon:t,text:a,destination:n}=e;return(0,s.jsxs)("div",{className:"flex gap-3 px-3 py-2 mt-2 whitespace-nowrap",children:[(0,s.jsx)("img",{loading:"lazy",src:t,alt:"",className:"shrink-0 w-6 aspect-square"}),(0,s.jsx)(i.default,{href:n,legacyBehavior:!0,children:a})]})},d=a(5850),o=a(6443);function c(e){let{onCancelClick:t}=e,{patients:a}=(0,o.Z)(),i=localStorage.getItem("Cookie"),[l,c]=(0,n.useState)(null),[r,m]=(0,n.useState)(new Date),[u,x]=(0,n.useState)(""),[f,p]=(0,n.useState)(""),h=async()=>{let e=await (0,d.he)("http://192.168.1.3:3000/api/addRdv",{method:"POST",headers:{"Content-Type":"application/json"},body:d.uT.json({patientId:l,date:r,timeslot:u,token:i})});console.log(await e.json())};return(0,s.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,s.jsxs)("div",{className:"inline-block align-bottom bg-zinc-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[(0,s.jsx)("div",{className:"bg-zinc-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,s.jsx)("div",{className:"sm:flex sm:items-start",children:(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-green-400",id:"modal-headline",children:"Nouveau patient"}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)("select",{placeholder:"Patient",value:l?l.patientId:"",onChange:e=>{c(e.target.value)},className:"bg-white text-black rounded-sm mb-2 mr-2",children:a.map((e,t)=>(0,s.jsxs)("option",{value:e.patient.patientId,className:"text-white",children:[e.patient.firstname," ",e.patient.lastname]},t))})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"date",value:r,onChange:e=>{m(new Date(e.target.value))},className:"bg-white text-black rounded-sm mb-2"})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Heure de rendez-vous",value:u,onChange:e=>{x(e.target.value)},className:"bg-white text-black rounded-sm mb-2"})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Motif de consultation",value:f,onChange:e=>{p(e.target.value)},className:"bg-white text-black rounded-sm mb-2"})})]})]})})}),(0,s.jsxs)("div",{className:" px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,s.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-400 text-base font-medium text-white hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:h,children:"OK"}),(0,s.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400 sm:mt-0 sm:w-auto sm:text-sm",onClick:t,children:"Annuler"})]})]})]})})}function r(){localStorage.removeItem("Cookie"),window.location.replace("/login")}function m(){let[e,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)("");return(0,s.jsx)("aside",{className:"flex flex-col w-3/12 max-md:ml-0 max-md:w-full max-h-96",children:(0,s.jsxs)("nav",{className:"flex flex-col grow justify-between p-4 mx-auto w-full text-sm font-medium leading-5 text-white bg-neutral-900 max-md:mt-6",children:[(0,s.jsxs)("div",{className:"flex gap-3 px-3 py-2 whitespace-nowrap rounded-lg bg-zinc-800",children:[e&&(0,s.jsx)(c,{onCancelClick:()=>t(!1)}),(0,s.jsx)(l,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/19a097b61bd5a9c658091861d8dba577f1499d5b43b230ef0a797fcb719853ec?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Accueil",destination:"/home"})]}),(0,s.jsx)(l,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/3d1ad04ddb7015629255ccaeb1389d72137aa918cdc516c521f397761a2a8216?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Rendez-vous",destination:"/rdv"}),(0,s.jsx)(l,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/0336d694a54c8fb9ff5e7f72e82c8d2540c0d1a95f223037af7d1f0f4cb387ab?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Patients",destination:"/patients"}),(0,s.jsx)(l,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/c0ba607c757ed75216e2e337f83ca8f727e1f6cd2278ce0686bb83282ad06981?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Statistiques",destination:"/stats"}),(0,s.jsx)("div",{className:"flex flex-col justify-center px-4 py-2.5 mt-6 font-bold tracking-wide bg-green-400 rounded-lg text-neutral-900 max-md:px-5 max-md:mt-10",children:(0,s.jsx)("button",{className:"justify-center bg-green-400 max-md:mx-1",onClick:e=>t(!0),children:"Nouvelle consultation"})}),(0,s.jsx)("div",{className:"flex flex-col justify-center px-4 py-2.5 mt-6 font-bold tracking-wide bg-rose-400 rounded-lg text-neutral-900 max-md:px-5 max-md:mt-10",children:(0,s.jsx)("button",{className:"justify-center bg-rose-400 max-md:mx-1",onClick:r,children:"Se d\xe9connecter"})})]})})}},6443:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(2265),n=a(5850);function i(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(null);return(0,s.useEffect)(()=>{i(localStorage.getItem("Cookie"))},[]),(0,s.useEffect)(()=>{a&&(0,n.he)("http://192.168.1.3:3000/api/findPatients",{method:"POST",headers:{"Content-Type":"application/json"},responseType:n.UN.JSON,body:n.uT.json({token:a})}).then(e=>{t(e.data.reduce((e,t)=>(e.some(e=>e.patientID===t.patientID)||e.push(t),e),[]))})},[a]),{patients:e}}},9056:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(2265),n=a(5850);function i(e){let[t,a]=(0,s.useState)([]),[i,l]=(0,s.useState)(null);return(0,s.useEffect)(()=>{l(localStorage.getItem("Cookie"))},[]),(0,s.useEffect)(()=>{if(i){let t={token:i,date:new Date(e).toISOString()};(0,n.he)("http://192.168.1.3:3000/api/findRdvs",{method:"POST",headers:{"Content-Type":"application/json"},responseType:n.UN.JSON,body:n.uT.json(t)}).then(e=>{a(e.data)})}},[i,e]),(0,s.useEffect)(()=>{console.log(t)},[t]),{rdvs:t}}}},function(e){e.O(0,[36,971,23,744],function(){return e(e.s=543)}),_N_E=e.O()}]);