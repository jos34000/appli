(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{3107:function(e,t,a){Promise.resolve().then(a.bind(a,5216))},5216:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),n=a(2265),l=a(7938),i=e=>{let{value:t,label:a,change:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col grow items-start p-6 text-base font-medium text-white rounded-lg border border-solid border-neutral-700 max-md:px-5 max-md:mt-8",children:[(0,s.jsx)("div",{className:"leading-[150%]",children:t}),(0,s.jsx)("div",{className:"mt-2 text-2xl font-bold tracking-tight",children:a}),(0,s.jsxs)("div",{className:"mt-2 leading-[150%] ".concat(n>=0?"text-green-400":"text-rose-500"),children:[n>=0?"+":"",n,"%"]})]})},d=a(5850);async function c(){let{writeTextFile:e}=a(6286),{homeDir:t}=a(9829),{fetch:s,ResponseType:n,Body:l}=a(7391),i=localStorage.getItem("Cookie"),d=(await s("http://192.168.1.3:3000/api/stats",{method:"POST",responseType:n.JSON,body:l.json({token:i})})).data,c=await t(),o=JSON.stringify(d);await e({path:"".concat(c,"/Desktop/stats.json"),contents:o})}var o=function(){let{stats:e}=function(){let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("Cookie");s(e),(0,d.he)("http://192.168.1.3:3000/api/stats",{method:"POST",responseType:d.UN.JSON,body:d.uT.json({token:e})}).then(e=>{t(e.data)})},[a]),{stats:e}}();return(0,s.jsx)("div",{className:"flex flex-col justify-center bg-white",children:(0,s.jsx)("div",{className:"flex flex-col justify-center w-full bg-neutral-900 max-md:max-w-full",children:(0,s.jsx)("div",{className:"justify-center px-6 py-5 w-full max-md:px-5 max-md:max-w-full",children:(0,s.jsxs)("div",{className:"flex gap-5 max-md:flex-col max-md:gap-0",children:[(0,s.jsx)(l.Z,{}),(0,s.jsx)("main",{className:"flex flex-col ml-5 w-9/12 max-md:ml-0 max-md:w-full",children:(0,s.jsxs)("div",{className:"flex flex-col grow pb-20 max-md:mt-6 max-md:max-w-full",children:[(0,s.jsxs)("header",{className:"flex gap-5 justify-center p-4 text-white whitespace-nowrap max-md:flex-wrap max-md:max-w-full",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tighter",children:"Statistiques"}),(0,s.jsx)("button",{className:"flex flex-col justify-center self-start px-4 py-1.5 text-sm font-medium leading-5 rounded-lg bg-zinc-800",onClick:c,children:"Exportation"})]}),(0,s.jsxs)("div",{className:"flex gap-3 py-3 pr-20 pl-3 text-sm font-medium leading-5 text-white whitespace-nowrap max-md:flex-wrap max-md:pr-5",children:[(0,s.jsx)("button",{className:"justify-center px-4 py-1.5 rounded-lg bg-zinc-800",children:"Consultations"}),(0,s.jsx)("button",{className:"justify-center px-4 py-1.5 rounded-lg bg-zinc-800",children:"Rendez-vous"}),(0,s.jsx)("button",{className:"justify-center px-4 py-1.5 rounded-lg bg-zinc-800",children:"Patients"})]}),(0,s.jsx)("section",{className:"justify-center p-4 mt-3 max-md:max-w-full",children:(0,s.jsx)("div",{className:"flex gap-5 max-md:flex-col max-md:gap-0",children:e&&Object.entries(e).map((e,t)=>{let[a,n]=e;return(0,s.jsx)("div",{className:"flex flex-col w-[33%] max-md:ml-0 max-md:w-full",children:(0,s.jsx)(i,{label:a,value:n.Nombre,change:n["Pourcentage de changement"]})},t)})})})]})})]})})})})}},7938:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var s=a(7437),n=a(2265),l=a(7138),i=function(e){let{icon:t,text:a,destination:n}=e;return(0,s.jsxs)("div",{className:"flex gap-3 px-3 py-2 mt-2 whitespace-nowrap",children:[(0,s.jsx)("img",{loading:"lazy",src:t,alt:"",className:"shrink-0 w-6 aspect-square"}),(0,s.jsx)(l.default,{href:n,legacyBehavior:!0,children:a})]})},d=a(5850),c=a(6443);function o(e){let{onCancelClick:t}=e,{patients:a}=(0,c.Z)(),l=localStorage.getItem("Cookie"),[i,o]=(0,n.useState)(null),[r,m]=(0,n.useState)(new Date),[x,u]=(0,n.useState)(""),[f,p]=(0,n.useState)(""),h=async()=>{let e=await (0,d.he)("http://192.168.1.3:3000/api/addRdv",{method:"POST",headers:{"Content-Type":"application/json"},body:d.uT.json({patientId:i,date:r,timeslot:x,token:l})});console.log(await e.json())};return(0,s.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,s.jsxs)("div",{className:"inline-block align-bottom bg-zinc-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[(0,s.jsx)("div",{className:"bg-zinc-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,s.jsx)("div",{className:"sm:flex sm:items-start",children:(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-green-400",id:"modal-headline",children:"Nouveau patient"}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)("select",{placeholder:"Patient",value:i?i.patientId:"",onChange:e=>{o(e.target.value)},className:"bg-white text-black rounded-sm mb-2 mr-2",children:a.map((e,t)=>(0,s.jsxs)("option",{value:e.patient.patientId,className:"text-white",children:[e.patient.firstname," ",e.patient.lastname]},t))})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"date",value:r,onChange:e=>{m(new Date(e.target.value))},className:"bg-white text-black rounded-sm mb-2"})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Heure de rendez-vous",value:x,onChange:e=>{u(e.target.value)},className:"bg-white text-black rounded-sm mb-2"})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Motif de consultation",value:f,onChange:e=>{p(e.target.value)},className:"bg-white text-black rounded-sm mb-2"})})]})]})})}),(0,s.jsxs)("div",{className:" px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,s.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-400 text-base font-medium text-white hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:h,children:"OK"}),(0,s.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400 sm:mt-0 sm:w-auto sm:text-sm",onClick:t,children:"Annuler"})]})]})]})})}function r(){localStorage.removeItem("Cookie"),window.location.replace("/login")}function m(){let[e,t]=(0,n.useState)(!1),[a,l]=(0,n.useState)("");return(0,s.jsx)("aside",{className:"flex flex-col w-3/12 max-md:ml-0 max-md:w-full max-h-96",children:(0,s.jsxs)("nav",{className:"flex flex-col grow justify-between p-4 mx-auto w-full text-sm font-medium leading-5 text-white bg-neutral-900 max-md:mt-6",children:[(0,s.jsxs)("div",{className:"flex gap-3 px-3 py-2 whitespace-nowrap rounded-lg bg-zinc-800",children:[e&&(0,s.jsx)(o,{onCancelClick:()=>t(!1)}),(0,s.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/19a097b61bd5a9c658091861d8dba577f1499d5b43b230ef0a797fcb719853ec?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Accueil",destination:"/home"})]}),(0,s.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/3d1ad04ddb7015629255ccaeb1389d72137aa918cdc516c521f397761a2a8216?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Rendez-vous",destination:"/rdv"}),(0,s.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/0336d694a54c8fb9ff5e7f72e82c8d2540c0d1a95f223037af7d1f0f4cb387ab?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Patients",destination:"/patients"}),(0,s.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/c0ba607c757ed75216e2e337f83ca8f727e1f6cd2278ce0686bb83282ad06981?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Statistiques",destination:"/stats"}),(0,s.jsx)("div",{className:"flex flex-col justify-center px-4 py-2.5 mt-6 font-bold tracking-wide bg-green-400 rounded-lg text-neutral-900 max-md:px-5 max-md:mt-10",children:(0,s.jsx)("button",{className:"justify-center bg-green-400 max-md:mx-1",onClick:e=>t(!0),children:"Nouvelle consultation"})}),(0,s.jsx)("div",{className:"flex flex-col justify-center px-4 py-2.5 mt-6 font-bold tracking-wide bg-rose-400 rounded-lg text-neutral-900 max-md:px-5 max-md:mt-10",children:(0,s.jsx)("button",{className:"justify-center bg-rose-400 max-md:mx-1",onClick:r,children:"Se d\xe9connecter"})})]})})}},6443:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(2265),n=a(5850);function l(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(null);return(0,s.useEffect)(()=>{l(localStorage.getItem("Cookie"))},[]),(0,s.useEffect)(()=>{a&&(0,n.he)("http://192.168.1.3:3000/api/findPatients",{method:"POST",headers:{"Content-Type":"application/json"},responseType:n.UN.JSON,body:n.uT.json({token:a})}).then(e=>{t(e.data.reduce((e,t)=>(e.some(e=>e.patientID===t.patientID)||e.push(t),e),[]))})},[a]),{patients:e}}}},function(e){e.O(0,[36,403,971,23,744],function(){return e(e.s=3107)}),_N_E=e.O()}]);