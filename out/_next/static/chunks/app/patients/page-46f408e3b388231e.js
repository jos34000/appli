(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{8142:function(e,t,a){Promise.resolve().then(a.bind(a,155))},155:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(7437),n=a(2265),l=a(7938),i=e=>{let{firstname:t,lastname:a,age:n,antecedents:l,icon:i}=e;return(0,s.jsx)("div",{className:"flex gap-5  px-4 py-3.5 bg-neutral-900 leading-[150%] max-md:flex-wrap max-md:max-w-full",children:(0,s.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,s.jsxs)("div",{className:"text-base font-medium text-white",children:[t," ",a]}),(0,s.jsxs)("div",{className:"text-sm text-stone-300",children:[n,"ans"]})]})})};function d(e){let{firstname:t,onFirstChange:a,lastName:n,onLastChange:l,age:i,onAgeChange:d,timeslot:r,onTimeChange:c,email:m,onEmailChange:o,handleOkClick:x,onCancelClick:u}=e;return(0,s.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,s.jsxs)("div",{className:"inline-block align-bottom bg-zinc-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[(0,s.jsx)("div",{className:"bg-zinc-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,s.jsx)("div",{className:"sm:flex sm:items-start",children:(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-green-400",id:"modal-headline",children:"Nouveau patient"}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"Pr\xe9nom",value:t,onChange:a,className:"bg-white text-black rounded-sm mb-2 mr-2"}),(0,s.jsx)("input",{type:"text",placeholder:"Nom",value:n,onChange:l,className:"bg-white text-black rounded-sm mb-2"}),(0,s.jsx)("input",{type:"number",placeholder:"Age",value:i,onChange:d,className:"bg-white text-black rounded-sm mb-2 mr-2"}),(0,s.jsx)("input",{type:"text",placeholder:"Heure de rendez-vous",value:r,onChange:c,className:"bg-white text-black rounded-sm mb-2"}),(0,s.jsx)("input",{type:"email",placeholder:"Email du patient",value:m,onChange:o,className:"bg-white text-black rounded-sm mb-2"})]})]})})}),(0,s.jsxs)("div",{className:" px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,s.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-400 text-base font-medium text-white hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:x,children:"OK"}),(0,s.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400 sm:mt-0 sm:w-auto sm:text-sm",onClick:u,children:"Annuler"})]})]})]})})}var r=a(6443),c=a(5850);function m(){let{patients:e}=(0,r.Z)(),[t,a]=(0,n.useState)(""),[m,o]=(0,n.useState)([]),[x,u]=(0,n.useState)(!1),[f,p]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[b,j]=(0,n.useState)(""),[v,y]=(0,n.useState)(""),[w,N]=(0,n.useState)("");return(0,n.useEffect)(()=>{o(e.filter(e=>e.patient.firstname.toLowerCase().includes(t.toLowerCase())||e.patient.lastname.toLowerCase().includes(t.toLowerCase())))},[t,e]),(0,s.jsx)("div",{className:"flex flex-col justify-center",children:(0,s.jsx)("div",{className:"flex flex-col justify-center w-full bg-neutral-900 max-md:max-w-full",children:(0,s.jsx)("div",{className:"justify-center px-6 py-5 w-full max-md:px-5 max-md:max-w-full",children:(0,s.jsxs)("div",{className:"flex gap-5 max-md:flex-col max-md:gap-0",children:[(0,s.jsx)(l.Z,{}),(0,s.jsx)("main",{className:"flex flex-col ml-5 w-9/12 max-md:ml-0 max-md:w-full",children:(0,s.jsxs)("div",{className:"flex flex-col grow pb-20 max-md:mt-6 max-md:max-w-full",children:[(0,s.jsxs)("div",{className:"flex gap-5 justify-center p-4 text-white max-md:flex-wrap max-md:max-w-full",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tighter",children:"Patients"}),(0,s.jsx)("div",{className:"flex flex-col justify-center self-start px-4 py-1.5 text-sm font-medium leading-5 rounded-lg bg-zinc-800",children:(0,s.jsx)("button",{className:"justify-center bg-zinc-800",onClick:()=>u(!0),children:"Nouveau patient"})}),x&&(0,s.jsx)(d,{firstname:f,onFirstChange:e=>p(e.target.value),lastName:h,onLastChange:e=>g(e.target.value),age:b,onAgeChange:e=>j(e.target.value),timeslot:v,onTimeChange:e=>y(e.target.value),email:w,onEmailChange:e=>N(e.target.value),handleOkClick:()=>{(function(e,t,a,s,n){let l=localStorage.getItem("Cookie");l&&(0,c.he)("http://192.168.1.3:3000/api/addPatient",{method:"POST",headers:{"Content-Type":"application/json"},responseType:c.UN.JSON,body:c.uT.json({token:l,firstName:e,lastName:t,age:a,timeslot:s,email:n})})})(f,h,b,v,w),u(!1)},onCancelClick:()=>u(!1)})]}),(0,s.jsxs)("form",{className:"flex gap-3 px-4 py-3 mx-4 mt-3 text-base leading-6 rounded-lg bg-zinc-800 text-stone-300 max-md:flex-wrap max-md:mr-2.5",children:[(0,s.jsx)("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/6df88360f17ab1aeb0d2a83ca3f900b7789d760e9e63c7ca0bdf2b106f38a91a?apiKey=3f0228c97dfd4d3398207a5ad823f317&",alt:"",className:"shrink-0 w-6 aspect-square"}),(0,s.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Rechercher des patients par nom"}),(0,s.jsx)("input",{type:"search",id:"search",placeholder:"Rechercher des patients par nom","aria-label":"Rechercher des patients par nom",className:"bg-transparent focus:outline-none w-full",value:t,onChange:e=>a(e.target.value)})]}),m&&m.length>0&&m.map((e,t)=>(0,s.jsx)(i,{firstname:e.patient.firstname,lastname:e.patient.lastname,age:e.patient.age,icon:e.patient.firstname},t))]})})]})})})})}},7938:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(7437),n=a(2265),l=a(7138),i=function(e){let{icon:t,text:a,destination:n}=e;return(0,s.jsxs)("div",{className:"flex gap-3 px-3 py-2 mt-2 whitespace-nowrap",children:[(0,s.jsx)("img",{loading:"lazy",src:t,alt:"",className:"shrink-0 w-6 aspect-square"}),(0,s.jsx)(l.default,{href:n,legacyBehavior:!0,children:a})]})},d=a(5850),r=a(6443);function c(e){let{onCancelClick:t}=e,{patients:a}=(0,r.Z)(),l=localStorage.getItem("Cookie"),[i,c]=(0,n.useState)(null),[m,o]=(0,n.useState)(new Date),[x,u]=(0,n.useState)(""),[f,p]=(0,n.useState)(""),h=async()=>{let e=await (0,d.he)("http://192.168.1.3:3000/api/addRdv",{method:"POST",headers:{"Content-Type":"application/json"},body:d.uT.json({patientId:i,date:m,timeslot:x,token:l})});console.log(await e.json())};return(0,s.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,s.jsxs)("div",{className:"inline-block align-bottom bg-zinc-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[(0,s.jsx)("div",{className:"bg-zinc-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,s.jsx)("div",{className:"sm:flex sm:items-start",children:(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-green-400",id:"modal-headline",children:"Nouveau patient"}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)("select",{placeholder:"Patient",value:i?i.patientId:"",onChange:e=>{c(e.target.value)},className:"bg-white text-black rounded-sm mb-2 mr-2",children:a.map((e,t)=>(0,s.jsxs)("option",{value:e.patient.patientId,className:"text-white",children:[e.patient.firstname," ",e.patient.lastname]},t))})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"date",value:m,onChange:e=>{o(new Date(e.target.value))},className:"bg-white text-black rounded-sm mb-2"})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Heure de rendez-vous",value:x,onChange:e=>{u(e.target.value)},className:"bg-white text-black rounded-sm mb-2"})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Motif de consultation",value:f,onChange:e=>{p(e.target.value)},className:"bg-white text-black rounded-sm mb-2"})})]})]})})}),(0,s.jsxs)("div",{className:" px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,s.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-400 text-base font-medium text-white hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:h,children:"OK"}),(0,s.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400 sm:mt-0 sm:w-auto sm:text-sm",onClick:t,children:"Annuler"})]})]})]})})}function m(){localStorage.removeItem("Cookie"),window.location.replace("/login")}function o(){let[e,t]=(0,n.useState)(!1),[a,l]=(0,n.useState)("");return(0,s.jsx)("aside",{className:"flex flex-col w-3/12 max-md:ml-0 max-md:w-full max-h-96",children:(0,s.jsxs)("nav",{className:"flex flex-col grow justify-between p-4 mx-auto w-full text-sm font-medium leading-5 text-white bg-neutral-900 max-md:mt-6",children:[(0,s.jsxs)("div",{className:"flex gap-3 px-3 py-2 whitespace-nowrap rounded-lg bg-zinc-800",children:[e&&(0,s.jsx)(c,{onCancelClick:()=>t(!1)}),(0,s.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/19a097b61bd5a9c658091861d8dba577f1499d5b43b230ef0a797fcb719853ec?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Accueil",destination:"/home"})]}),(0,s.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/3d1ad04ddb7015629255ccaeb1389d72137aa918cdc516c521f397761a2a8216?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Rendez-vous",destination:"/rdv"}),(0,s.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/0336d694a54c8fb9ff5e7f72e82c8d2540c0d1a95f223037af7d1f0f4cb387ab?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Patients",destination:"/patients"}),(0,s.jsx)(i,{icon:"https://cdn.builder.io/api/v1/image/assets/TEMP/c0ba607c757ed75216e2e337f83ca8f727e1f6cd2278ce0686bb83282ad06981?apiKey=3f0228c97dfd4d3398207a5ad823f317&",text:"Statistiques",destination:"/stats"}),(0,s.jsx)("div",{className:"flex flex-col justify-center px-4 py-2.5 mt-6 font-bold tracking-wide bg-green-400 rounded-lg text-neutral-900 max-md:px-5 max-md:mt-10",children:(0,s.jsx)("button",{className:"justify-center bg-green-400 max-md:mx-1",onClick:e=>t(!0),children:"Nouvelle consultation"})}),(0,s.jsx)("div",{className:"flex flex-col justify-center px-4 py-2.5 mt-6 font-bold tracking-wide bg-rose-400 rounded-lg text-neutral-900 max-md:px-5 max-md:mt-10",children:(0,s.jsx)("button",{className:"justify-center bg-rose-400 max-md:mx-1",onClick:m,children:"Se d\xe9connecter"})})]})})}},6443:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(2265),n=a(5850);function l(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(null);return(0,s.useEffect)(()=>{l(localStorage.getItem("Cookie"))},[]),(0,s.useEffect)(()=>{a&&(0,n.he)("http://192.168.1.3:3000/api/findPatients",{method:"POST",headers:{"Content-Type":"application/json"},responseType:n.UN.JSON,body:n.uT.json({token:a})}).then(e=>{t(e.data.reduce((e,t)=>(e.some(e=>e.patientID===t.patientID)||e.push(t),e),[]))})},[a]),{patients:e}}}},function(e){e.O(0,[36,971,23,744],function(){return e(e.s=8142)}),_N_E=e.O()}]);